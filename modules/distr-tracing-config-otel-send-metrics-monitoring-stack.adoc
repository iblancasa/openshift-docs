////
This module included in the following assemblies:
-distr_tracing_install/distributed-tracing-deploying-otel.adoc
////
:_content-type: REFERENCE
[id="distr-tracing-send-metrics-monitoring-stack_{context}"]
= Sending metrics to the monitoring stack

The following example shows how to configure the monitoring stack to scrape OpenTelemetry collector metrics endpoints and removes
duplicated labels added by the monitoring stack during scraping.

.Sample `+PodMonitor+` that configures the monitoring stack to scrape collector metrics.
[source,yaml]
----
apiVersion: monitoring.coreos.com/v1
kind: PodMonitor
metadata:
  name: otel-collector
spec:
  selector:
    matchLabels:
      app.kubernetes.io/name: otel-collector
  podMetricsEndpoints:
  - port: metrics <1>
  - port: promexporter <2>
    relabelings:
    - action: labeldrop
      regex: pod
    - action: labeldrop
      regex: container
    - action: labeldrop
      regex: endpoint
    metricRelabelings:
    - action: labeldrop
      regex: instance
    - action: labeldrop
      regex: job
----
<1> The OpenTelemetry collector internal metrics port name. The port name is always `+metrics+`.
<2> The OpenTelemetry collector Prometheus exporter port name. The port name is defined in the `+.spec.ports+` section of the OpenTelemetry collector CR.
